<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>403 - Acceso Denegado</title>
    
    <!-- Materialize CSS -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="/css/style.css" rel="stylesheet">
</head>
<body class="grey lighten-4">
    <!-- Navigation -->
    <nav class="red darken-2">
        <div class="nav-wrapper">
            <a href="#" class="brand-logo">Sistema Auth</a>
            <ul class="right hide-on-med-and-down">
                <li><span id="nav-user" style="display: none;"></span></li>
                <li><a href="#" onclick="authManager.logout()" id="nav-logout" style="display: none;">
                    <i class="material-icons left">exit_to_app</i>Cerrar Sesión
                </a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="error-page">
            <div class="row">
                <div class="col s12 center-align">
                    <div class="error-code red-text">403</div>
                    <h4 class="red-text text-darken-2">Acceso Denegado</h4>
                    <p class="flow-text grey-text text-darken-1">
                        Lo sentimos, no tienes permisos suficientes para acceder a esta página.
                    </p>
                </div>
            </div>
            
            <div class="row">
                <div class="col s12 m8 offset-m2">
                    <div class="card red lighten-5">
                        <div class="card-content center-align">
                            <i class="material-icons large red-text">block</i>
                            <h5 class="red-text text-darken-2">Permisos Insuficientes</h5>
                            <p>Esta página requiere privilegios de administrador que tu cuenta no posee.</p>
                            <p>Si crees que esto es un error, contacta al administrador del sistema.</p>
                        </div>
                        <div class="card-action center-align">
                            <a href="#" onclick="goToDashboard()" class="btn blue darken-2">
                                <i class="material-icons left">dashboard</i>
                                Ir al Dashboard
                            </a>
                            <a href="/signin.html" class="btn grey darken-2">
                                <i class="material-icons left">person</i>
                                Cambiar Usuario
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Información adicional -->
            <div class="row">
                <div class="col s12 m6">
                    <div class="card white">
                        <div class="card-content">
                            <span class="card-title red-text">
                                <i class="material-icons left">info</i>
                                ¿Qué puedes hacer?
                            </span>
                            <ul class="collection">
                                <li class="collection-item">
                                    <i class="material-icons left">arrow_forward</i>
                                    Volver a tu dashboard personal
                                </li>
                                <li class="collection-item">
                                    <i class="material-icons left">arrow_forward</i>
                                    Editar tu perfil de usuario
                                </li>
                                <li class="collection-item">
                                    <i class="material-icons left">arrow_forward</i>
                                    Cerrar sesión y usar otra cuenta
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="col s12 m6">
                    <div class="card white">
                        <div class="card-content">
                            <span class="card-title red-text">
                                <i class="material-icons left">contact_support</i>
                                ¿Necesitas ayuda?
                            </span>
                            <p>Si necesitas acceso de administrador:</p>
                            <ul class="collection">
                                <li class="collection-item">
                                    <i class="material-icons left">email</i>
                                    Contacta al administrador
                                </li>
                                <li class="collection-item">
                                    <i class="material-icons left">help</i>
                                    Revisa la documentación
                                </li>
                                <li class="collection-item">
                                    <i class="material-icons left">bug_report</i>
                                    Reporta un problema
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Materialize JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <!-- Custom JS -->
    <script src="/js/app.js"></script>
    
    <script>
        function goToDashboard() {
            if (authManager.isAuthenticated()) {
                authManager.redirectToDashboard();
            } else {
                window.location.href = '/signin.html';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar Materialize
            M.AutoInit();
            
            // Actualizar navegación si está autenticado
            if (authManager.isAuthenticated()) {
                authManager.updateNavigation();
            }
        });
    </script>
</body>
</html>